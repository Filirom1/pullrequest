<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>.::PullRequest.org::. Un aperçu de RESThub 2</title>
  <meta name="description" content="">
  <meta name="author" content="PullRequest team">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="/public/css/style.css">
  <link rel="stylesheet" href="/public/css/syntax.css">

  <script src="/public/js/libs/modernizr.custom.47336.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/public/js/libs/jquery-1.6.2.min.js"><\/script>')</script>
</head>

<body>

  <div id="container">
    <header>
      <h1><a href="/" title="Page d'accueil"><img src="/public/img/pullrequest-logo.png" alt="PullRequest"/></a></h1>
      <a href="http://github.com/pullrequest"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 1;" src="https://a248.e.akamai.net/assets.github.com/img/abad93f42020b733148435e2cd92ce15c542d320/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub"></a>
    </header>

    <div id="main" role="main">
      <section id="content">
        
<article>
  <header>
    <h1><a href="/2011/09/07/resthub-2-preview.html">Un aperçu de RESThub 2</a></h1>
    <p>
      <time datetime="2011-09-07" pubdate="pubdate">07 Sep 2011</time>
      <span class="author"><a href="/authors.html#loicfrering">Loïc Frering</a></span>
      <span class="comments"><a href="#disqus_thread" title="Voir les commentaires">Commentaires</a></span>
    </p>
  </header>
  <p>Après la <a href='http://pullrequest.org/2011/06/28/resthub-1-1.html'>sortie récente de RESThub 1.1</a>, nous commençons à étudier les nouveautés que nous souhaiterions intégrer à RESThub 2.</p>

<h2 id='spring_31'>Spring 3.1</h2>

<p>Tout d&#8217;abord, RESThub 2 se basera sur Spring 3.1 et essaiera de tirer parti des nombreuses fonctionnalités amenées par cette nouvelle version. La première nouveauté de Spring 3.1 dont profitera RESThub 2 sera la possibilité de configurer entièrement votre application Spring en Java. Ainsi tous les éléments de configuration de l&#8217;ApplicationContext mis à disposition par RESThub auront un équivalent en annotation du type @Enable* comme @EnableEntityScan. Pour plus de détails sur la configuration en Java de Spring, je vous invite à consulter <a href='http://blog.springsource.com/2011/06/10/spring-3-1-m2-configuration-enhancements/'>cet article</a> sur le blog de Spring Source.</p>

<p>La seconde fonctionnalité apportée par Spring 3.1 dont RESThub 2 tirera profit est la notion de profils Spring. Avec Spring 3.1, il est possible de définir des ensembles de beans différents en fonction d&#8217;un profil donné qui peut être défini au runtime. A l&#8217;instar des profils Maven, plusieurs profils peuvent être activés simultanément. Nous envisageons quelques pistes d&#8217;utilisation des profils sur RESThub : nous pourrions établir un profil dédié au monitoring ou bien même différents profils RESThub pour différentes sources de données :</p>

<ul>
<li>jpa pour les bases de données relationnelles</li>

<li>mongodb pour les bases MongoDB via Spring Data</li>

<li>ogm pour Hibernate OGM</li>
</ul>

<p>Pour terminer sur les profils Spring, nous évaluerons la pertinence de leur utilisation pour les environnements de déploiements (local, dev, qualif, prod) et leur intégration avec la gestion des profils Maven.</p>

<p>Une autre nouveauté que nous souhaitons exploiter concerne la nouvelle option packagesToScan du LocalContainerEntityManagerFactoryBean pour remplacer les options include-entities et exclude-entities du namespace RESThub. En effet cette option devrait permettre à présent de scanner les entités venant du classpath et donc de favoriser la création de projets multi-modules. Cependant il reste à voir s&#8217;il sera possible de gérer plusieurs persistence units via cette option, configuration que supporte RESThub actuellement avec son implémentation native du scan d&#8217;entités.</p>

<p>Enfin nous verrons comment tirer parti de la nouvelle couche d&#8217;abstraction pour le cache de données apportée par Spring 3.1. Elle pourrait permettre la mise en cache des données rappatriées par des finders avec des stratégies de rétention configurables via une simple annotation.</p>

<h2 id='spring_data'>Spring Data</h2>

<p>RESThub 1.x repose sur Hades pour la couche d&#8217;accès aux données. C&#8217;est Hades qui fournit l&#8217;implémentation de base des GenericDao proposés par RESThub. Or le lead developer de Hades, Oliver Gierke, a été débauché par Spring pour participer à l&#8217;initiative <a href='http://www.springsource.org/spring-data'>Spring Data</a> qui regroupe un ensemble de projets facilitant l&#8217;implémentation de votre couche d&#8217;accès aux données sur tout un ensemble de technologies de persistance, allant des bases relationnelles avec Spring Data JPA aux bases NoSQL avec par exemple Spring Data Redis, Neo4j, MongoDB.</p>

<p>Ainsi RESThub reposera principalement sur Spring Data pour l&#8217;accès aux données et en particulier Spring Data JPA qui est le successeur d&#8217;Hades. Nous tirerons donc partie des dernières fonctionnalités apportées par Spring Data JPA pour simplifier encore la mise en oeuvre de la couche d&#8217;accès aux données.</p>

<p>Enfin, comme signalé plus haut, nous faciliterons le support des bases NoSQL via l&#8217;intégration des autres projets du portfolio Spring Data.</p>

<h2 id='querydsl'>QueryDSL</h2>

<p>Si vous avez déjà utilisé les API Criteria JPA2, vous savez certainement la lourdeur de mise en oeuvre de celles-ci ainsi que leur verbosité. <a href='http://www.querydsl.com/'>QueryDSL</a> propose une interface fluide (ou fluent API) pour la construction dynamique et typée de requêtes JPA, JDO ou SQL en Java.</p>

<p>D&#8217;autre part Spring Data JPA s&#8217;intègre dans ses dernières versions avec QueryDSL et il nous semble très intéressant d&#8217;intégrer cette technologie à la prochaine version de RESThub tant elle facilite et rend agréable l&#8217;écriture et la construction de requêtes dynamiques tout en permettant un refactoring aisé de celles-ci au besoin.</p>

<h2 id='monitoring'>Monitoring</h2>

<p>Nous souhaitons intégrer dans RESThub le support de JMX dans Spring. Couplé avec les profils Spring 3.1, RESThub pourrait grandement faciliter le monitoring de vos applications : il suffirait d&#8217;activer un profil &#8216;monitor&#8217; par exemple pour bénéficier automatiquement du monitoring JMX pour votre application RESThub.</p>

<h2 id='rapid_application_development'>Rapid Application Development</h2>

<p>Avec RESThub, nous souhaitons mettre à disposition des développeurs Java une stack de technologies cohérente dont la mise en oeuvre est simplifiée au maximum. Nous souhaitons aller encore plus loin dans cette démarche et s&#8217;inspirer du principe <a href='http://fr.wikipedia.org/wiki/YAGNI'>YAGNI</a> avec RESThub 2 en proposant des profils de configuration limitant le nombre de couches logicielles lorsque cela n&#8217;est pas nécessaire. Ainsi il serait possible de très rapidement mettre en place des applications Web en se passant du code superflu.</p>

<h2 id='documentation_et_modularisation'>Documentation et modularisation</h2>

<p>Pour faciliter l&#8217;utilisation de RESThub et son adoption, un effort important sera fait sur la <a href='http://resthub.org/'>documentation</a> des prochaines versions. En plus de celle-ci, des exemples et tutoriels documentés mettront en avant les bonnes pratiques de développement avec RESThub alors que des archetypes Maven permettront de rapidement mettre en place votre projet basé sur RESThub.</p>

<p>Afin de favoriser son intégration nous travaillerons également sur la modularisation de RESThub. Cela permettra d&#8217;utiliser des modules spécifiques de RESThub sans pour autant charger tout RESThub en dépendance transitive. Enfin nous veillerons à séparer les exemples pour les pousser dans leur propre repository sur Github.</p>

<h2 id='roadmap'>Roadmap</h2>

<p>Une première version alpha de RESThub 2 est prévue pour les prochaines semaines. Elle se basera sur la branche <a href='https://github.com/pullrequest/resthub/tree/spring-data'>spring-data</a> actuellement en développement et apportera donc l&#8217;intégration de Spring Data JPA en remplacement de Hades.</p>

<p>Nous prévoyons ensuite de sortir une nouvelle alpha par fonctionnalité intégrée avec en feuille de route prévisionnelle (suivez les liens pour avoir le détail des milestones sur Github) :</p>

<ul>
<li><a href='https://github.com/pullrequest/resthub/issues?milestone=2&amp;state=open'>1.1.2</a></li>

<li><a href='https://github.com/pullrequest/resthub/issues?milestone=4&amp;state=open'>1.1.3</a></li>

<li><a href='https://github.com/pullrequest/resthub/issues?milestone=3&amp;state=open'>2.0.0-alpha1</a></li>

<li><a href='https://github.com/pullrequest/resthub/issues?milestone=5&amp;state=open'>2.0.0-alpha2</a></li>

<li><a href='https://github.com/pullrequest/resthub/issues?milestone=6&amp;state=open'>2.0.0-alpha3</a></li>

<li><a href='https://github.com/pullrequest/resthub/issues?milestone=7&amp;state=open'>2.0.0-alpha4</a></li>

<li><a href='https://github.com/pullrequest/resthub/issues?milestone=8&amp;state=open'>2.0.0-beta1</a></li>
</ul>

<p>N&#8217;hésitez pas à nous donner votre avis sur ce que nous prévoyons d&#8217;intégrer dans RESThub 2 ainsi qu&#8217;à nous proposer les fonctionnalités que vous aimeriez voir arriver avec cette prochaine version !</p>

<p>D&#8217;autre part RESThub est un projet ouvert aux contributions alors n&#8217;hésitez pas à <a href='https://github.com/pullrequest/resthub'>cloner le projet sur Github</a> et à proposer des <strong>pull requests</strong> !</p>
  <footer>
    <section class="tags">
      <span>Tags :</span>
<ul>
  
    <li>
        <a href="tags.html#resthub" title="Voir les posts ayant le tag resthub">resthub</a>
    </li>
  
    <li>
        <a href="tags.html#java" title="Voir les posts ayant le tag java">java</a>
    </li>
  
</ul>

    </section>
    <section id="disqus_thread" class="comments">
      <script type="text/javascript">
  var disqus_shortname = 'pullrequest';
  var disqus_identifier = '/2011/09/07/resthub-2-preview';
  $.getScript("http://pullrequest.disqus.com/embed.js");
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript>

    </section>
  </footer>
</article>

      </section><!--

   --><aside>
        <section id="about">
          <h1>A propos</h1>
          <p>PullRequest est un blog de développeurs ouvert à toute contribution appropriée.</p>
        </section>
        <section id="follow">
          <h1>Suivez nous!</h1>
          <ul>
            <li>
              <a href="http://twitter.com/pullrequest" class="twitter-follow-button" data-show-count="false" data-lang="fr">Follow @pullrequest</a>
              <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
            </li>
            <li class="feed">
              <a rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/pullrequest/blog-posts">abonnement RSS</a>
            </li>
          </ul>
        </section>
        <section id="contribute">
          <h1>Participer</h1>
          <p>
            Les articles sont écrits en <a href="http://daringfireball.net/projects/markdown/syntax">MarkDown</a> et stockés dans un repository Git sur <a href="http://github.com/pullrequest/pullrequest.github.com">Github</a>.
            N'hésitez pas à <strong>forker</strong> puis à faire une <strong><a href="https://github.com/pullrequest/pullrequest.github.com/pull/new/master">Pull Request</a></strong> ;)
          </p>
        </section>
        <section id="licensing">
          <h1>Licence</h1>
          <p>
            Les articles sont mis à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by/2.0/fr/">Licence Creative Commons Paternité 2.0 France</a>.
            <a rel="license" href="http://creativecommons.org/licenses/by/2.0/fr/">
              <br><img alt="Contrat Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/2.0/fr/88x31.png" />
            </a>
          </p>
        </section>
        <section id="opensource">
          <h1>OpenSource</h1>
          <p>Les auteurs de PullRequest sont à l'origine, ou contributeurs, entre autres, de ces projets:</p>
          <ul>
            <li><a href="http://openscales.org">OpenScales</a></li>
            <li><a href="http://resthub.org">RestHub</a></li>
            <li><a href="https://github.com/loicfrering/LosoBundle">LosoBundle</a></li>
            <li><a href="https://github.com/loicfrering/losolib">LoSoLib</a></li>
            <li><a href="https://bitbucket.org/feugy/myth">Myth</a></li>
          </ul>
        </section>
      </aside>

    </div>

    <footer>
      <small id="legal">© 2011 pullrequest.org</small>
      <small id="poweredby">Propulsé par <a href="http://jekyllrb.com">Jekyll</a></small>
    </footer>
  </div>

  <script defer src="/public/js/tags.js"></script>
  <script defer src="/public/js/authors.js"></script>

  <script>
    var _gaq=[["_setAccount","UA-22833612-1"],["_trackPageview"]];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
    g.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js";
    s.parentNode.insertBefore(g,s)}(document,"script"));
  </script>

  <!--[if lt IE 7 ]>
  <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
  <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->

</body>
</html>
